<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏°‡∏´‡∏≤‡∏®‡∏∂‡∏Å‡∏à‡∏≠‡∏°‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• ‡∏†‡∏≤‡∏Ñ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</title>
<style>
body{
  font-family:sans-serif;
  background:linear-gradient(135deg,#c7d2fe,#fbcfe8);
  display:flex;justify-content:center;align-items:center;
  height:100vh;margin:0
}
.game{
  width:700px;background:white;padding:20px;
  border-radius:20px;box-shadow:0 15px 40px rgba(0,0,0,.3);
  text-align:center
}
button{
  padding:8px 15px;margin:5px;border:none;
  border-radius:10px;background:#7c3aed;color:white;
  cursor:pointer
}
button:hover{background:#5b21b6}
.choice{display:block;width:100%;margin:5px 0;background:#ede9fe;color:#4c1d95}
.bar{height:18px;border-radius:10px;margin:5px 0}
.hp{background:#ef4444}
.sp{background:#22c55e}
.timer{color:#dc2626;font-weight:bold}
.boss{background:#111827;color:white;padding:10px;border-radius:10px;margin-top:10px}
.effect{font-size:28px;animation:pop .6s}
@keyframes pop{0%{transform:scale(.5)}100%{transform:scale(1)}}
.shake{animation:shake .3s}
@keyframes shake{
0%{transform:translateX(0)}
25%{transform:translateX(-5px)}
50%{transform:translateX(5px)}
75%{transform:translateX(-5px)}
100%{transform:translateX(0)}
}
</style>
</head>

<body>
<div class="game" id="gameBox">
<h2>‚öîÔ∏è ‡∏°‡∏´‡∏≤‡∏®‡∏∂‡∏Å‡∏à‡∏≠‡∏°‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•</h2>

<input id="player" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô">
<br>
<button onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>

<div id="gameArea" style="display:none">
<div>‚ù§Ô∏è HP</div><div class="bar hp" id="hpBar"></div>
<div>‚ö° SP</div><div class="bar sp" id="spBar"></div>
<div>üîÆ ‡∏™‡∏Å‡∏¥‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å: <span id="skillCount">10</span></div>
<div class="timer" id="timer"></div>

<h3 id="question"></h3>
<div id="choices"></div>
<div id="result"></div>

<button onclick="attackSkill()">‚öîÔ∏è ‡πÇ‡∏à‡∏°‡∏ï‡∏µ</button>
<button onclick="healSkill()">üíñ ‡∏ü‡∏∑‡πâ‡∏ô‡∏ü‡∏π</button>

<div id="bossArea"></div>
</div>

<h3>üèÜ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h3>
<div id="ranking"></div>
<button onclick="exportScore()">üì§ ‡∏™‡πà‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏π</button>

</div>

<script>
// ===== ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏¢‡∏≠‡∏∞ =====
const questions=[
{q:"HTML ‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?",c:["‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ß‡πá‡∏ö","‡∏ó‡∏≥‡πÄ‡∏û‡∏•‡∏á","‡∏ï‡∏±‡∏î‡∏ï‡πà‡∏≠","‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°"],a:0},
{q:"CSS ‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?",c:["‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏ß‡πá‡∏ö","‡∏ó‡∏≥‡∏ö‡∏±‡∏ç‡∏ä‡∏µ","‡∏ï‡∏±‡∏î‡∏ï‡πà‡∏≠","‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå"],a:0},
{q:"JavaScript ‡∏Ñ‡∏∑‡∏≠?",c:["‡∏†‡∏≤‡∏©‡∏≤‡∏Ñ‡∏≠‡∏°","‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ß‡∏≤‡∏î","‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏•‡∏á","BIOS"],a:0},
{q:"Excel ‡πÉ‡∏ä‡πâ‡∏ó‡∏≥?",c:["‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì","‡∏ï‡∏±‡∏î‡∏ï‡πà‡∏≠","‡πÑ‡∏•‡∏ü‡πå‡∏™‡∏î","BIOS"],a:0},
{q:"GitHub ‡πÉ‡∏ä‡πâ?",c:["‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î","‡∏ó‡∏≥‡πÇ‡∏•‡πÇ‡∏Å‡πâ","‡πÅ‡∏ï‡πà‡∏á‡∏£‡∏π‡∏õ","‡∏û‡∏¥‡∏°‡∏û‡πå‡∏á‡∏≤‡∏ô"],a:0},
{q:"Zoom ‡πÉ‡∏ä‡πâ?",c:["‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå","‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ","‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå","BIOS"],a:0},
{q:"Google Drive ‡∏Ñ‡∏∑‡∏≠?",c:["‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå","‡∏ó‡∏≥‡πÄ‡∏Å‡∏°","‡∏ó‡∏≥‡∏ö‡∏±‡∏ç‡∏ä‡∏µ","BIOS"],a:0},
{q:"VS Code ‡∏Ñ‡∏∑‡∏≠?",c:["‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î","‡πÄ‡∏Å‡∏°","‡πÄ‡∏ß‡πá‡∏ö","‡πÄ‡∏û‡∏•‡∏á"],a:0},
{q:"PowerPoint ‡πÉ‡∏ä‡πâ?",c:["‡∏ó‡∏≥‡∏™‡πÑ‡∏•‡∏î‡πå","‡∏ó‡∏≥‡πÄ‡∏ß‡πá‡∏ö","‡∏ó‡∏≥‡πÄ‡∏û‡∏•‡∏á","BIOS"],a:0},
{q:"Photoshop ‡πÉ‡∏ä‡πâ?",c:["‡πÅ‡∏ï‡πà‡∏á‡∏†‡∏≤‡∏û","‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î","‡∏ó‡∏≥‡∏ö‡∏±‡∏ç‡∏ä‡∏µ","BIOS"],a:0},
{q:"Shopee ‡∏Ñ‡∏∑‡∏≠?",c:["‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå","‡πÄ‡∏Å‡∏°","‡πÄ‡∏û‡∏•‡∏á","BIOS"],a:0},
{q:"YouTube ‡πÉ‡∏ä‡πâ?",c:["‡∏î‡∏π/‡∏•‡∏á‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠","‡∏ó‡∏≥‡∏ö‡∏±‡∏ç‡∏ä‡∏µ","‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î","BIOS"],a:0}
];

// ===== ‡∏ö‡∏≠‡∏™‡∏´‡∏•‡∏≤‡∏¢‡∏î‡πà‡∏≤‡∏ô =====
const bosses=[
{name:"üëπ ‡∏ö‡∏≠‡∏™‡∏õ‡∏µ‡∏®‡∏≤‡∏à",hp:100},
{name:"üêâ ‡∏ö‡∏±‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•",hp:150},
{name:"üëë ‡πÄ‡∏ó‡∏û‡∏£‡∏≤‡∏ä‡∏±‡∏ô",hp:220}
];

let player="",index=0,score=0,hp=100,sp=0;
let bossIndex=0,bossHP=0;
let timerInterval,timeLeft=8;
let skillLimit=10;
let gameOver=false;

// ===== ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° =====
function startGame(){
player=document.getElementById("player").value;
if(player===""){alert("‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô");return;}
index=0;score=0;hp=100;sp=0;bossIndex=0;skillLimit=10;
document.getElementById("skillCount").innerText=skillLimit;
document.getElementById("gameArea").style.display="block";
shuffle(questions);
updateBars();loadQuestion();
}

function shuffle(a){a.sort(()=>Math.random()-0.5)}

function loadQuestion(){
if(index>=questions.length){startBoss();return;}
let q=questions[index];
document.getElementById("question").innerText=q.q;
let box=document.getElementById("choices");box.innerHTML="";
q.c.forEach((c,i)=>{
let b=document.createElement("button");
b.className="choice";b.innerText=c;
b.onclick=()=>check(i);
box.appendChild(b);
});
startTimer();
}

function startTimer(){
timeLeft=8;
document.getElementById("timer").innerText="‚è≥ "+timeLeft;
clearInterval(timerInterval);
timerInterval=setInterval(()=>{
timeLeft--;
document.getElementById("timer").innerText="‚è≥ "+timeLeft;
if(timeLeft<=0){clearInterval(timerInterval);wrong();}
},1000);
}

function check(i){
clearInterval(timerInterval);
if(i===questions[index].a){score++;sp+=10;effect("‚ú® ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");}
else{wrong();return;}
index++;updateBars();setTimeout(loadQuestion,600);
}

function wrong(){
hp-=20;shake();effect("üí• ‡∏ú‡∏¥‡∏î");
index++;updateBars();
if(hp<=0){loseEvent();return;}
setTimeout(loadQuestion,600);
}

// ===== ‡∏ö‡∏≠‡∏™ =====
function startBoss(){
bossHP=bosses[bossIndex].hp;
document.getElementById("bossArea").innerHTML=
`<div class="boss">${bosses[bossIndex].name}<br>HP: <span id="bossHP">${bossHP}</span></div>`;
document.getElementById("question").innerText="‚öîÔ∏è ‡πÉ‡∏ä‡πâ‡∏™‡∏Å‡∏¥‡∏•‡πÇ‡∏à‡∏°‡∏ï‡∏µ!";
}

function attackSkill(){
if(skillLimit<=0)return;
if(sp>=20){
sp-=20;bossHP-=30;skillLimit--;
updateSkill();
updateBoss();effect("‚öîÔ∏è ‡πÇ‡∏à‡∏°‡∏ï‡∏µ!");
}
}

function healSkill(){
if(skillLimit<=0)return;
if(sp>=30){
sp-=30;hp=Math.min(100,hp+40);skillLimit--;
updateSkill();
updateBars();effect("üíñ ‡∏ü‡∏∑‡πâ‡∏ô‡∏ü‡∏π!");
}
}

function updateSkill(){
document.getElementById("skillCount").innerText=skillLimit;
}

function updateBoss(){
document.getElementById("bossHP").innerText=bossHP;
updateBars();
if(bossHP<=0){
bossIndex++;
if(bossIndex>=bosses.length){winGame();}
else{index=0;effect("üèÜ ‡∏ú‡πà‡∏≤‡∏ô‡∏î‡πà‡∏≤‡∏ô!");setTimeout(loadQuestion,800);}
}
}

// ===== ‡∏ä‡∏ô‡∏∞ =====
function winGame(){
gameOver=true;
effect("üéâ ‡∏ä‡∏ô‡∏∞‡∏ó‡∏∏‡∏Å‡∏î‡πà‡∏≤‡∏ô! ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2!");
saveScore();
}

// ===== ‡πÅ‡∏û‡πâ -> ‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£ 7 ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ =====
function loseEvent(){
effect("üç≥ ‡πÅ‡∏û‡πâ! ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏´‡πâ 7 ‡∏õ‡∏£‡∏∞‡∏´‡∏•‡∏≤‡∏î‡πÅ‡∏´‡πà‡∏á‡∏™‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏•!");
let chars=["üî•","üíÄ","üëª","ü§ñ","üêô","üßü","ü¶ë"];
let i=0;
let interval=setInterval(()=>{
if(i>=chars.length){
clearInterval(interval);
hp=100;index=0;
effect("üçú ‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à! ‡πÑ‡∏õ‡∏î‡πà‡∏≤‡∏ô 2!");
updateBars();loadQuestion();
return;
}
effect("‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏´‡πâ "+chars[i]);
i++;
},800);
}

// ===== UI =====
function updateBars(){
document.getElementById("hpBar").style.width=hp+"%";
document.getElementById("spBar").style.width=sp+"%";
}

function effect(t){
document.getElementById("result").innerHTML=
`<div class="effect">${t}</div>`;
}

function shake(){
let g=document.getElementById("gameBox");
g.classList.add("shake");
setTimeout(()=>g.classList.remove("shake"),300);
}

// ===== ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô =====
function saveScore(){
let r=JSON.parse(localStorage.getItem("ranks"))||[];
r.push({name:player,score});
r.sort((a,b)=>b.score-a.score);
r=r.slice(0,20);
localStorage.setItem("ranks",JSON.stringify(r));
showRanking();
}

function showRanking(){
let r=JSON.parse(localStorage.getItem("ranks"))||[];
document.getElementById("ranking").innerHTML=
r.map(x=>x.name+" : "+x.score).join("<br>");
}

function exportScore(){
let r=localStorage.getItem("ranks");
alert("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ô‡∏µ‡πâ‡∏™‡πà‡∏á‡∏Ñ‡∏£‡∏π:\n\n"+r);
}

showRanking();
</script>
</body>
</html>